// Generated by Haxe 4.0.0-rc.2+77068e10c

#pragma warning disable 109, 114, 219, 429, 168, 162
namespace tink.unit._AssertionBuffer {
	public class Impl : global::tink.streams.SignalStream<object, object> {
		
		public Impl(global::haxe.lang.EmptyObject empty) : base(global::haxe.lang.EmptyObject.EMPTY) {
		}
		
		
		public Impl() : base(((global::haxe.lang.EmptyObject) (global::haxe.lang.EmptyObject.EMPTY) )) {
			global::tink.unit._AssertionBuffer.Impl.__hx_ctor_tink_unit__AssertionBuffer_Impl(this);
		}
		
		
		protected static void __hx_ctor_tink_unit__AssertionBuffer_Impl(global::tink.unit._AssertionBuffer.Impl __hx_this) {
			global::tink.core.SignalTrigger<object> trigger = global::tink.core._Signal.Signal_Impl_.trigger<object>();
			global::tink.streams.SignalStream<object, object>.__hx_ctor_tink_streams_SignalStream<object, object>(((global::tink.streams.SignalStream<object, object>) (global::tink.streams.SignalStream<object, object>.__hx_cast<object, object>(((global::tink.streams.SignalStream) (__hx_this) ))) ), ((global::tink.core.SignalObject<object>) (trigger) ));
			__hx_this.trigger = trigger;
		}
		
		
		public global::tink.core.SignalTrigger<object> trigger;
		
		public void @yield(global::tink.streams.Yield data) {
			global::tink.core._Callback.CallbackList_Impl_.invoke<object>(((global::Array<object>) (this.trigger.handlers) ), ((object) (data) ));
		}
		
		
		public override object __hx_setField(string field, int hash, object @value, bool handleProperties) {
			unchecked {
				switch (hash) {
					case 635393336:
					{
						this.trigger = ((global::tink.core.SignalTrigger<object>) (global::tink.core.SignalTrigger<object>.__hx_cast<object>(((global::tink.core.SignalTrigger) (@value) ))) );
						return @value;
					}
					
					
					default:
					{
						return base.__hx_setField(field, hash, @value, handleProperties);
					}
					
				}
				
			}
		}
		
		
		public override object __hx_getField(string field, int hash, bool throwErrors, bool isCheck, bool handleProperties) {
			unchecked {
				switch (hash) {
					case 1899010637:
					{
						return ((global::haxe.lang.Function) (new global::haxe.lang.Closure(this, "yield", 1899010637)) );
					}
					
					
					case 635393336:
					{
						return this.trigger;
					}
					
					
					default:
					{
						return base.__hx_getField(field, hash, throwErrors, isCheck, handleProperties);
					}
					
				}
				
			}
		}
		
		
		public override object __hx_invokeField(string field, int hash, object[] dynargs) {
			unchecked {
				switch (hash) {
					case 1899010637:
					{
						this.@yield(((global::tink.streams.Yield) (dynargs[0]) ));
						break;
					}
					
					
					default:
					{
						return base.__hx_invokeField(field, hash, dynargs);
					}
					
				}
				
				return null;
			}
		}
		
		
		public override void __hx_getFields(global::Array<object> baseArr) {
			baseArr.push("trigger");
			base.__hx_getFields(baseArr);
		}
		
		
	}
}



#pragma warning disable 109, 114, 219, 429, 168, 162
namespace tink.unit._AssertionBuffer {
	public sealed class AssertionBuffer_Impl_ {
		
		[global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
		public static global::tink.unit._AssertionBuffer.Impl _new() {
			global::tink.unit._AssertionBuffer.Impl this1 = new global::tink.unit._AssertionBuffer.Impl();
			return ((global::tink.unit._AssertionBuffer.Impl) (this1) );
		}
		
		
		public static void emit(global::tink.unit._AssertionBuffer.Impl this1, global::tink.testrunner.Assertion assertion) {
			global::tink.core._Callback.CallbackList_Impl_.invoke<object>(((global::Array<object>) (this1.trigger.handlers) ), ((object) (global::tink.streams.Yield.Data(assertion)) ));
		}
		
		
		public static global::tink.unit._AssertionBuffer.Impl fail(global::tink.unit._AssertionBuffer.Impl this1, global::haxe.lang.Null<int> code, global::tink.core.TypedError reason, object pos) {
			if ( ! (code.hasValue) ) {
				code = new global::haxe.lang.Null<int>(((int) (global::haxe.lang.Runtime.getField_f(reason, "code", 1103409453, true)) ), true);
			}
			
			{
				global::tink.streams.Yield data = global::tink.streams.Yield.Fail(new global::tink.core.TypedError<object>(code, global::haxe.lang.Runtime.toString(global::haxe.lang.Runtime.getField(reason, "message", 437335495, true)), pos));
				global::tink.core._Callback.CallbackList_Impl_.invoke<object>(((global::Array<object>) (this1.trigger.handlers) ), ((object) (data) ));
			}
			
			return this1;
		}
		
		
		public static global::tink.unit._AssertionBuffer.Impl defer(global::tink.unit._AssertionBuffer.Impl this1, global::haxe.lang.Function f) {
			global::tink.core._Callback.Callback_Impl_.defer(f);
			return this1;
		}
		
		
		public static global::tink.unit._AssertionBuffer.Impl done(global::tink.unit._AssertionBuffer.Impl this1) {
			global::tink.core._Callback.CallbackList_Impl_.invoke<object>(((global::Array<object>) (this1.trigger.handlers) ), ((object) (global::tink.streams.Yield.End) ));
			return this1;
		}
		
		
		public static void handle<T>(global::tink.unit._AssertionBuffer.Impl this1, global::tink.core.Outcome outcome) {
			unchecked {
				switch (outcome._hx_index) {
					case 0:
					{
						global::tink.core._Callback.CallbackList_Impl_.invoke<object>(((global::Array<object>) (((global::tink.unit._AssertionBuffer.Impl) (this1) ).trigger.handlers) ), ((object) (global::tink.streams.Yield.End) ));
						break;
					}
					
					
					case 1:
					{
						global::tink.core.TypedError e = ((global::tink.core.TypedError) (( outcome as global::tink.core.Outcome_Failure ).failure) );
						{
							global::haxe.lang.Null<int> code = new global::haxe.lang.Null<int>(((int) (global::haxe.lang.Runtime.getField_f(e, "code", 1103409453, true)) ), true);
							if ( ! (code.hasValue) ) {
								code = new global::haxe.lang.Null<int>(((int) (global::haxe.lang.Runtime.getField_f(e, "code", 1103409453, true)) ), true);
							}
							
							{
								global::tink.streams.Yield data = global::tink.streams.Yield.Fail(new global::tink.core.TypedError<object>(code, global::haxe.lang.Runtime.toString(global::haxe.lang.Runtime.getField(e, "message", 437335495, true)), new global::haxe.lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"handle", "tink.unit._AssertionBuffer.AssertionBuffer_Impl_", "tink/unit/AssertionBuffer.hx"}, new int[]{1981972957}, new double[]{((double) (63) )})));
								global::tink.core._Callback.CallbackList_Impl_.invoke<object>(((global::Array<object>) (((global::tink.unit._AssertionBuffer.Impl) (this1) ).trigger.handlers) ), ((object) (data) ));
							}
							
						}
						
						break;
					}
					
					
				}
				
			}
		}
		
		
	}
}



#pragma warning disable 109, 114, 219, 429, 168, 162
namespace tink.unit._AssertionBuffer {
	public sealed class FailingReason_Impl_ {
		
		public static global::tink.core.TypedError ofString(string e) {
			unchecked {
				return new global::tink.core.TypedError<object>(default(global::haxe.lang.Null<int>), e, new global::haxe.lang.DynamicObject(new int[]{302979532, 1547539107, 1648581351}, new object[]{"ofString", "tink.unit._AssertionBuffer.FailingReason_Impl_", "tink/unit/AssertionBuffer.hx"}, new int[]{1981972957}, new double[]{((double) (72) )}));
			}
		}
		
		
	}
}


